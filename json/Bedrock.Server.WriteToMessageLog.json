{"Parameters": [{"Prompt": "Debug Mode (String)", "Type": "Numeric", "Value": 0, "Name": "pDebug"}, {"Prompt": "pType (String) INFO, DEBUG or ERROR", "Type": "String", "Value": "", "Name": "pType"}, {"Prompt": "pMessage (String)", "Type": "String", "Value": "", "Name": "pMessage"}], "DataProcedure": "#****Begin: Generated Statements***\r\n#****End: Generated Statements****\r\n\r\n#****Begin: Generated Statements***\r\n#****End: Generated Statements****", "Variables": [], "HasSecurityAccess": false, "UIData": "CubeAction=1511\fDataAction=1503\fCubeLogChanges=0\f", "Name": "Bedrock.Server.WriteToMessageLog", "PrologProcedure": "\r\n#****Begin: Generated Statements***\r\n#****End: Generated Statements****\r\n\r\n\r\n#####################################################################################\r\n##~~Copyright bedrocktm1.org 2017 www.bedrocktm1.org/how-to-licence.php Ver 2.0.2~~##\r\n#####################################################################################\r\n\r\n\r\n# This process will write a Message into the TM1 MessageLog. \r\n\r\n\r\n### Constants ###\r\n\r\ncProcess = 'WriteToMessageLog' ;\r\ncTimeStamp = TimSt( Now, '\\Y\\m\\d\\h\\i\\s' );\r\ncDebugFile = GetProcessErrorFileDirectory | cProcess | '.' | cTimeStamp | '.';\r\ncLF = Char ( 10 );\r\n\r\n### Initialise Debug ###\r\n\r\nIf( pDebug >= 1 );\r\n\r\n  # Set debug file name\r\n  sDebugFile = cDebugFile | 'Prolog.debug';\r\n\r\n  # Log start time\r\n  AsciiOutput( sDebugFile, 'Process Started: ' | TimSt( Now, '\\d-\\m-\\Y \\h:\\i:\\s' ) );\r\n\r\n  # Log parameters\r\n  AsciiOutput( sDebugFile, 'Parameters: pType : ' | pType );\r\n  AsciiOutput( sDebugFile, '            pMessage : ' | pMessage );\r\nEndIf;\r\n\r\n\r\n### Validate Parameters ###\r\n\r\nnErr = 0;\r\nsErr = '';\r\n\r\n# ValidateType\r\n\r\nsType = Upper ( pType );\r\nIf ( sType @<> 'ERROR' & sType @<> 'DEBUG' & sType @<> 'INFO' );\r\n  nErr = nErr + 1;\r\n  sErr = 'Invalid Type: ' | pType | cLF;\r\n  If( pDebug >= 1 );\r\n    AsciiOutput( sDebugFile, sErr );\r\n  EndIf;\r\nEndIf;\r\nIf ( Long ( pMessage ) = 0 );\r\n  nErr = nErr + 1;\r\n  sErr= sErr | 'pMessage can''t be empty'  | cLF;\r\n  If( pDebug >= 1 );\r\n    AsciiOutput( sDebugFile, sErr );\r\n  EndIf;\r\nEndIf;\r\n\r\nIF ( nErr >  0 );\r\n  ItemSkip;\r\nENDIF;\r\n\r\n\r\n### Action ###\r\n\r\nLogOutput ( sType , pMessage );\r\n\r\n\r\n### End Prolog ###", "MetadataProcedure": "#****Begin: Generated Statements***\r\n#****End: Generated Statements****\r\n\r\n#****Begin: Generated Statements***\r\n#****End: Generated Statements****", "DataSource": {"Type": "None"}, "EpilogProcedure": "\r\n#****Begin: Generated Statements***\r\n#****End: Generated Statements****\r\n\r\n#####################################################################################\r\n##~~Copyright bedrocktm1.org 2017 www.bedrocktm1.org/how-to-licence.php Ver 2.0.2~~##\r\n#####################################################################################\r\n\r\n\r\n### Initialise Debug ###\r\n\r\nIf( pDebug >= 1 );\r\n\r\n  # Set debug file name\r\n  sDebugFile = cDebugFile | 'Epilog.debug';\r\n\r\n  # Log errors\r\n  If( nErr <> 0 );\r\n    AsciiOutput( sDebugFile, 'Errors Occurred' );\r\n  EndIf;\r\n\r\n  # Log finish time\r\n  AsciiOutput( sDebugFile, 'Process Finished: ' | TimSt( Now, '\\d-\\m-\\Y \\h:\\i:\\s' ) );\r\n\r\nEndIf;\r\n\r\n\r\nIf( nErr <> 0 );\r\n  ItemReject( sErr );\r\nEndIf;\r\n\r\n\r\n### End Epilog ###", "VariablesUIData": []}